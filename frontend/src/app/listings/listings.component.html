<!DOCTYPE html>
<html>
<body>


<h1>MadridBNB</h1>
<h3>Welcome!</h3> 

<div class="topnav">
    <a routerLink="/popularity" routerLinkActive= "active"><b> Popularity </b> </a>
    <a routerLink="/roomdist" routerLinkActive= "active"> <b> Room Distribution </b> </a>
    <a routerLink="/avgprice" routerLinkActive= "active"> <b> Average Price </b> </a>
    <a routerLink="/addlisting" routerLinkActive= "active"> <b> Add Listing+ </b> </a>
    <a routerLink="/editlisting" routerLinkActive= "active"> <b> Edit Listing </b>  </a>
    <a routerLink="/deletelisting" routerLinkActive= "active"> <b> Delete Listing  </b> </a>
    <a routerLink="/reviews" routerLinkActive= "active"> <b> Add Reviews  </b> </a>
    
    
  </div>

 <!--
<nav>
    <a routerLink="/addlisting" routerLinkActive= "active">Add Listing+ </a>
    <a routerLink="/editlisting" routerLinkActive= "active">Edit Listing </a>
    <a routerLink="/deletelisting" routerLinkActive= "active">Delete Listing </a>
    
</nav>
  --> 


<!-- Search For Neighborhood bar-->
<div class = "search">
    <input type="text" placeholder="Search Neighborhood.." #searchbar
    (keyup) = "setNeighborhood(searchbar.value)">
</div>

<!-- Dropdown menu for room type-->

<div class ="dropdown-roomtype">
    <button class="roomtypebtn">Room type</button>
    <div class="roomtype-content">
        <a (click)="setRoomType('Entire home/apt')">Entire home/apt</a>
        <a (click)="setRoomType('Private room')">Private Room</a>
        <a (click)="setRoomType('Hotel Room')">Hotel Room</a>
    </div>
</div>


<div class = "floorprice">
    <input type="text" placeholder="Enter low end.." #floorbar
    (keyup) = "setFloorPrice(floorbar.value)">
</div>

<div class ="ceilprice">
    <input type="text" placeholder="Enter high end." #ceilbar
    (keyup) = "setCeilPrice(ceilbar.value)">
</div>

<button class = "roomtypebtn" type = "submit" (click)="makeSearch(searchForm)"> Search </button>


<!-- <div style="width:500px;height:2000px; margin-top: 25px; margin-left: 10px; border:9px solid #000;"> -->
<!-- LISTINGS -->
<div class = "column">
    <div *ngIf="listings !== undefined">
        <div *ngFor = "let l of listings"> 
            <div class="boxed">
                <p> ID: {{l.id}} </p>
                <p> {{l.neighborhood}} </p>
                <p> {{l.roomType}} </p>
                <p> ${{l.price}} </p>
            </div>
        </div>
    </div>
</div>


<div class = "column" > 
    <div *ngIf = "ShowMe">
    
        <h3> Average price of this search result: </h3>
        <div class="avgbox">
            <h2> ${{ average_price }} </h2>
        </div> 


        <!--<button onclick="toggle_display('expensive')" >Most Expensive</button>
        <button onclick="toggle_display('cheap')" >Most Cheap</button> -->

        <button class = "pricebutton" type = "submit" (click)="expensive_display()"> Expensive Listings </button>
        <button class = "pricebutton" type = "submit" (click)="cheap_display()"> Cheap Listings </button>
        <div *ngIf = "price_display == 'expensive'">
            <div *ngFor = "let l of expensive_listings"> 
                <div class="boxed">
                    <p> ID: {{l.id}} </p>
                    <p> {{l.neighborhood}} </p>
                    <p> {{l.roomType}} </p>
                    <p> ${{l.price}} </p>
                </div>
            </div>
            </div>

            <div *ngIf = "price_display == 'cheap'">
                <div *ngFor = "let l of cheap_listings"> 
                    <div class="boxed">
                        <p> ID: {{l.id}} </p>
                        <p> {{l.neighborhood}} </p>
                        <p> {{l.roomType}} </p>
                        <p> ${{l.price}} </p>
                    </div>
                </div>
            </div>
        </div>
</div> 







</body>
</html>

<router-outlet></router-outlet>

